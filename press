#!/usr/bin/env php
<?php

require_once __dir__ . '/bootstrap/autoload.php';

use Symfony\Component\Console\Application;

define('PRESS_DIR', __dir__);
define('PRESS_BIN', PRESS_DIR .'/bin');
define('PRESS_WP', PRESS_BIN . '/wp');
define('PRESS_STUBS', PRESS_DIR . '/stubs');
define('PRESS_CONFIG_NAME', '.press-cli.json');
define('PRESS_GLOBAL_CONFIG', "{$_SERVER['HOME']}/" . PRESS_CONFIG_NAME);

$application = new Application();

// `$ press wp-cli:install`  Installs the wp-cli executable.
$application->add(new \PressCLI\Command\WPCLIInstallCommand);

// `$ press wp-cli:update`   Updates the wp-cli executable.
$application->add(new \PressCLI\Command\WPCLIUpdateCommand);

// `$ press configure`  Creates a new project directory and configuration.
$application->add(new \PressCLI\Command\ConfigureCommand);

// `$ press help`       Displays help for a command
// `$ press install`    Installs WordPress, required plugins, theme and dependencies
// `$ press list`       Lists commands
// `$ press new`        Creates a new project directory, configuration and runs the install.

$application->run();
